# uglybash

> This bash script evaluates to echo dont just run it, dummy # flag{...} where the flag is in the comments.
> The comment won't be visible if you just execute the script. How can you mess with bash to get the value right before it executes?
> Enjoy the intro misc chal.

cmd.shというシェルスクリプトが添付されていた。

## solution

難読化されたシェルスクリプトを解析する。
`base -x <file>`を実行するとデバッグモードでシェルスクリプトを実行できる。

実際に`bash -x cmd.sh`を実行すると

```
$ bash -x cmd.sh
+ rev
++ printf %s ' }~~@{$  ")   }La?cc87J##@{$   ;   }...
...
+++ printf %s f
+++ ...
+++ printf %s l
+++ ...
+++ printf %s a
+++ ...
+++ printf %s g
+++ ...
+++ printf %s '{'
+++ ...
+++ printf %s u
+++ ...
+++ printf %s s
+++ ...
+++ printf %s 3
+++ ...
+++ printf %s _
+++ ...
+++ printf %s z
+++ ...
+++ printf %s s
+++ ...
+++ printf %s h
+++ ...
+++ printf %s ,
+++ ...
+++ printf %s _
+++ ...
+++ printf %s d
+++ ...
+++ printf %s ''
+++ ...
+++ printf %s m
+++ ...
+++ printf %s m
+++ ...
+++ printf %s y
+++ ...
+++ printf %s '}'
+++ ...
+++ printf %s '
'
```
と出力された。

dとmの間が空白になっているがuが入るとdummyとなり自然なので、uが入ると推測。

これでフラグを得ることができた

```
flag{us3_zsh,_dummy}
```
